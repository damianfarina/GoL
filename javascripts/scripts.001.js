(function(e){"use strict";e.BoardRenderer=function(){function t(e){var t=document.getElementById("board");var n=document.createElement("table");var r,i;t.innerHTML="";n.cellPadding=0;n.cellSpacing=0;for(var s=0;s<e.matrix.length;s++){r=document.createElement("tr");for(var o=0;o<e.matrix[0].length;o++){i=document.createElement("td");i.style.width=10;i.style.height=10;if(e.matrix[s][o].isAlive){i.innerHTML=1;i.style.backgroundColor="black";i.style.color="black"}else{i.innerHTML=1;i.style.backgroundColor="#ccc";i.style.color="#ccc"}r.appendChild(i)}n.appendChild(r)}t.appendChild(n)}var e={render:t};return e}()})(window);(function(e){"use strict";e.Cell=function(){function t(e,t,i,s){this.neighbours=e||[];this.rowIndex=t;this.colIndex=i;this.isAlive=s;this.aliveNeighbours=n;this.clone=r}function n(){return this.neighbours.filter(function(e){return e.isAlive?true:false})}function r(){return new e.Cell(this.neighbours,this.rowIndex,this.colIndex,this.isAlive)}return t}()})(window);(function(e){"use strict";e.GameLooper=function(){function t(e){setInterval(e,100)}var e={loop:t};return e}()})(window);(function(e){"use strict";e.FirstRuler=function(){function t(e){var t;if(!e.isAlive){return false}t=e.aliveNeighbours().length;if(t>=2){return false}e.isAlive=false;return true}var e={apply:t};return e}()})(window);(function(e){"use strict";e.FourthRuler=function(){function t(e){var t;if(e.isAlive){return false}t=e.aliveNeighbours().length;if(t!==3){return false}e.isAlive=true;return true}var e={apply:t};return e}()})(window);(function(e){"use strict";e.SecondRuler=function(){function t(e){var t;if(!e.isAlive){return false}t=e.aliveNeighbours().length;if(t===2||t===3){return true}return false}var e={apply:t};return e}()})(window);(function(e){"use strict";e.ThirdRuler=function(){function t(e){var t;if(!e.isAlive){return false}t=e.aliveNeighbours().length;if(t<=3){return false}e.isAlive=false;return true}var e={apply:t};return e}()})(window);(function(e){"use strict";e.GameRuler=function(e,t,n,r){function s(i){var s,o,u,a,f=i.clone(),l=i.matrix.length,c=i.matrix[0].length;for(s=0;s<l;s++){f.matrix[s]=[];for(o=0;o<c;o++){u=i.matrix[s][o];a=u.clone();e.apply(a)||t.apply(a)||n.apply(a)||r.apply(a);f.matrix[s][o]=a}}for(var h=0;h<l;h++){for(var p=0;p<c;p++){f.matrix[h][p].neighbours=f._getCellNeighbours.call(f,h,p)}}return f}var i={calculateNext:s};return i}(e.FirstRuler,e.SecondRuler,e.ThirdRuler,e.FourthRuler)})(window);(function(e){"use strict";e.Board=function(t){function r(){this.matrix=a(n.length,n[0].length);this.clone=i;this.initializeCells=u.bind(this);this._getCellNeighbours=o;this._initializeMatrix=a}function i(){var t=new e.Board,n=0,r=0;if(this.matrix.length){t.matrix=[];for(n=0;n<this.matrix.length;n++){t.matrix[n]=[];for(r=0;r<this.matrix[0].length;r++){t.matrix[n][r]=this.matrix[n][r].clone()}}}return t}function s(e,t){return!!n[e][t]}function o(e,t){var n=[e-1,e,e+1],r=[t-1,t,t+1],i=[];if(n[0]<0){n[0]=this.matrix.length-1}if(n[2]>=this.matrix.length){n[2]=0}if(r[0]<0){r[0]=this.matrix[0].length-1}if(r[2]>=this.matrix[0].length){r[2]=0}i.push(this.matrix[n[0]][r[0]]);i.push(this.matrix[n[0]][r[1]]);i.push(this.matrix[n[0]][r[2]]);i.push(this.matrix[n[1]][r[0]]);i.push(this.matrix[n[1]][r[2]]);i.push(this.matrix[n[2]][r[0]]);i.push(this.matrix[n[2]][r[1]]);i.push(this.matrix[n[2]][r[2]]);return i}function u(){var e,t,n,r;n=this.matrix.length;r=this.matrix[0].length;for(e=0;e<n;e++){for(t=0;t<r;t++){this.matrix[e][t].isAlive=s(e,t);this.matrix[e][t].neighbours=o.call(this,e,t)}}}function a(e,n){var r,i,s=[];for(r=0;r<e;r++){s[r]=[];for(i=0;i<n;i++){s[r][i]=new t([],r,i,false)}}return s}var n=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]];return r}(e.Cell)})(window);(function(e){"use strict";e.Runner=function(e,t){function r(n,r){r.render(n);e.loop(function(){n=t.calculateNext(n);r.render(n)})}var n={run:r};return n}(e.GameLooper,e.GameRuler)})(window);(function(e){"use strict";e.App=function(e,t,n){function i(){var r=new e,i=t;r.initializeCells();n.run(r,i)}var r={start:i};return r}(e.Board,e.BoardRenderer,e.Runner)})(window);window.App.start()
